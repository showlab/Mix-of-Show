<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0045)http://6.869.csail.mit.edu/fa19/schedule.html -->
<html xmlns="http://www.w3.org/1999/xhtml">
<link href="https://fonts.cdnfonts.com/css/caveat" rel="stylesheet">
<style>
    @import url('https://fonts.cdnfonts.com/css/caveat');
</style>
<script src="./assets/teaser-data.js"></script>


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Mix-of-Show</title>
    <link href="style.css" rel="stylesheet" type="text/css">
    <meta name="description"
        content="Project page for &#39;Mix-of-Show: Decentralized Low-Rank Adaptation for Multi-Concept Customization of Diffusion Models.&#39;">
    <link rel="icon" href="./assets/showlab.ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <style>

    </style>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Mix-of-Show</title>
    <link href="style.css" rel="stylesheet" type="text/css">
    <meta name="description"
        content="Project page for &#39;Mix-of-Show: Decentralized Low-Rank Adaptation for Multi-Concept Customization of Diffusion Models.&#39;">
    <link rel="icon" href="./assets/showlab.ico">
</head>

<body>
    <p class="title">Mix-of-Show: Decentralized Low-Rank Adaptation for Multi-Concept Customization of Diffusion Models</p>
    <p class="author">
        <span class="author">
            <a href="https://ycgu.site/">Yuchao Gu</a><sup>1</sup>
        </span>
        <span class="author">
            <a href="https://xinntao.github.io/">Xintao Wang</a><sup>3</sup>
        </span>
        <span class="author">
            <a href="https://zhangjiewu.github.io/">Jay Zhangjie Wu</a><sup>1</sup>
        </span>
        <span class="author">
            <a href="https://yujun-shi.github.io/">Yujun Shi</a><sup>2</sup>
        </span>
        <span class="author">
            <a href="https://cypw.github.io/">Yunpeng Chen</a><sup>2</sup>
        </span>
        <span class="author">
            Zihan Fan<sup>1</sup>
        </span>
        <span class="author">
            Wuyou Xiao<sup>1</sup>
        </span>
        <span class="author">
            <a href="https://ruizhaocv.github.io/">Rui Zhao</a><sup>1</sup>
        </span>
        <span class="author">
            Shuning Chang<sup>1</sup>
        </span>
        <span class="author">
            <a href="https://weijiawu.github.io/">Weijia Wu</a><sup>1</sup>
        </span>
        <span class="author">
            <a href="https://geyixiao.com/">Yixiao Ge</a><sup>3</sup>
        </span>
        <br/>
        <span class="author">
            Ying Shan<sup>3</sup>
        </span>
        <span class="author">
            <a href="https://sites.google.com/view/showlab/">Mike Zheng Shou</a><sup>1</sup>
        </span>
    </p>

    <p class="affiliations">
        <span class="author"><sup>1</sup><a href="https://sites.google.com/view/showlab">Show Lab</a>, <sup>2</sup>National University of Singapore</span>
        <span class="author"><sup>3</sup><a href="https://arc.tencent.com/en/index">ARC Lab</a>, Tencent PCG</span><br/>
    </p>

    <p class="menu">
        <a style="color: steelblue" href="https://arxiv.org/abs/">[Paper (arXiv)]</a>
        <a style="color: steelblue" href="https://github.com/TencentARC/Mix-of-Show" >[Code (Github)]</a>
    </p>

    <p class="section">&nbsp;</p>

    <div style="text-align: center">
            <p style="text-align: justify; display: flex; justify-content: center; max-width: 750px; margin:auto; background-color:lightgoldenrodyellow">
                ðŸ“–<strong>TL;DR</strong>: Mix-of-Show can merge multiple individually tuned concept ED-LoRAs (even if they have similar semantics) into the pretrained model,
                preserving the identity of each concept in the fused model, and supporting joint composition of those concepts.
            <p class="section">&nbsp;</p>
    </div>

    <div class="container">

        <div style="text-align: center">
            <p style="text-align: center;"><span class="section"><b>Decentralized Multi-Concept Customization by Mix-of-Show</b></span></p>
            <video width="100%" muted="" loop="" autoplay=""><source src="./assets/Overview_screen.mp4" type="video/mp4">
                Your browser does not support the video tag.</video>
            <br/><br/>
            <p style="text-align: justify; display: flex; justify-content: center; max-width: 800px; margin:auto">
                For example, we extend following 14 customized concepts to the pretrained model. &#128071; &#128071; &#128071;
            <p class="section">&nbsp;</p>
            <img src="./assets/concept_overview.png" alt="" width="70%" style="max-width: 100%; height: auto;" />
        </div>

        <br/><br/><br/>
        <table width="1080px" border="0" align="center">
            <tbody>
                <tr>
                    <div id="imageCarousel" class="carousel slide teaser-carousel" data-ride="carousel" data-interval="5000">
                        <div class="carousel-inner">
                            <!-- Multi Characters -->
                            <div class="carousel-item active">
                                <div>
                                    <img id="multi-char-condition" class="teaser-img" src="./assets/application/app_condition/multi_characters_1.png" />
                                    <span style="font-size: 150%;">â†’</span>
                                    <img id="multi-char-result" class="teaser-img" src="./assets/application/app_result/multi_characters_1.png" />
                                </div>
                                <div class="caption">
                                <span style="font-size: 150%; color:darkgreen;">Multiple Characters</span>
                                </div>
                                <br />
                                <div>
                                    <div onclick="toggle_prompt('multi_characters_1', ['multi_characters_2'], 'multi-char-condition', 'multi-char-result')" class="caption caption-active" id="multi_characters_1">
                                        &#147; [<span style="color:orange;">V <sup>potter</sup></span>, <span style="color:orange;">V <sup>hermione</sup></span>, holding hands] and <span style="color:orange;">V <sup>thanos</sup></span>, near a castle.&#148;</div>
                                    <br />
                                    <div onclick="toggle_prompt('multi_characters_2', ['multi_characters_1'], 'multi-char-condition', 'multi-char-result')" class="caption" id="multi_characters_2">
                                        &#147; <span style="color:orange;">V <sup>bengio</sup></span>, <span style="color:orange;">V <sup>lecun</sup></span> and <span style="color:orange;">V <sup>hinton</sup></span>, near a lake.&#148;</div>
                                </div>
                            </div>

                            <!-- Multi Objects -->
                            <div class="carousel-item inactive">
                                <div>
                                    <img id="multi-obj-condition" class="teaser-img" src="./assets/application/app_condition/multi_objects_1.png" />
                                    <span style="font-size: 150%;">â†’</span>
                                    <img id="multi-obj-result" class="teaser-img" src="./assets/application/app_result/multi_objects_1.png" />
                                </div>
                                <div class="caption">
                                <span style="font-size: 150%; color:darkgreen;">Multiple Objects</span>
                                </div>
                                <br />
                                <div>
                                    <div onclick="toggle_prompt('multi_objects_1', ['multi_objects_2'], 'multi-obj-condition', 'multi-obj-result')" class="caption caption-active" id="multi_objects_1">
                                        &#147; <span style="color:blue;">V <sup>dogA</sup></span>, <span style="color:blue;">V <sup>cat</sup></span> and <span style="color:blue;">V <sup>dogB</sup></span>, on the grass, under the sunset.&#148;</div>
                                    <br />
                                    <div onclick="toggle_prompt('multi_objects_2', ['multi_objects_1'], 'multi-obj-condition', 'multi-obj-result')" class="caption" id="multi_objects_2">
                                        &#147; Two <span style="color:blue;">V <sup>chair</sup></span>, <span style="color:blue;">V <sup>vase</sup></span> and <span style="color:blue;">V <sup>table</sup></span>, in a living room.&#148;</div>
                                </div>
                            </div>

                            <!-- Multi Characters Objects -->
                            <div class="carousel-item inactive">
                                <div>
                                    <img id="multi-char-obj-condition" class="teaser-img" src="./assets/application/app_condition/multi_characters_objects_1.png" />
                                    <span style="font-size: 150%;">â†’</span>
                                    <img id="multi-char-obj-result" class="teaser-img" src="./assets/application/app_result/multi_characters_objects_1.png" />
                                </div>
                                <div class="caption">
                                <span style="font-size: 150%; color:darkgreen;">Multiple Characters and Objects</span>
                                </div>
                                <br />
                                <div>
                                    <div onclick="toggle_prompt('multi_characters_objects_1', ['multi_characters_objects_2'], 'multi-char-obj-condition', 'multi-char-obj-result')" class="caption caption-active" id="multi_characters_objects_1">
                                        &#147; [<span style="color:orange;">V <sup>lecun</sup></span> sit on <span style="color:blue;">V <sup>chair</sup></span>], [<span style="color:orange;">V <sup>bengio</sup></span> sit on <span style="color:blue;">V <sup>chair</sup></span>], <span style="color:blue;">V <sup>vase</sup></span> and <span style="color:blue;">V <sup>table</sup></span>, <br/> in a living room&#148;</div>
                                    <br />
                                    <div onclick="toggle_prompt('multi_characters_objects_2', ['multi_characters_objects_1'], 'multi-char-obj-condition', 'multi-char-obj-result')" class="caption" id="multi_characters_objects_2">
                                        &#147; [<span style="color:orange;">V <sup>potter</sup></span> sit on <span style="color:blue;">V <sup>chair</sup></span>], <span style="color:blue;">V <sup>dogA</sup></span>, <span style="color:blue;">V <sup>cat</sup></span> and <span style="color:blue;">V <sup>table</sup></span>, in a living room.&#148;</div>
                                    </div>
                            </div>

                            <!-- Multi Characters Objects Scenes-->
                            <div class="carousel-item inactive">
                                <div>
                                    <img id="multi-char-obj-scene-condition" class="teaser-img" src="./assets/application/app_condition/multi_characters_objects_scenes_1.png" />
                                    <span style="font-size: 150%;">â†’</span>
                                    <img id="multi-char-obj-scene-result" class="teaser-img" src="./assets/application/app_result/multi_characters_objects_scenes_1.png" />
                                </div>
                                <div class="caption">
                                <span style="font-size: 150%; color:darkgreen;">Multiple Characters, Objects and Scenes</span>
                                </div>
                                <br />
                                <div>
                                    <div onclick="toggle_prompt('multi_characters_objects_scenes_1', ['multi_characters_objects_scenes_2'], 'multi-char-obj-scene-condition', 'multi-char-obj-scene-result')" class="caption caption-active" id="multi_characters_objects_scenes_1">
                                        &#147; [<span style="color:orange;">V <sup>lecun</sup></span> sit on <span style="color:blue;">V <sup>chair</sup></span>], [<span style="color:orange;">V <sup>bengio</sup></span> sit on <span style="color:blue;">V <sup>chair</sup></span>], <span style="color:blue;">V <sup>vase</sup></span> and <span style="color:blue;">V <sup>table</sup></span>, <br/> near <span style="color:purple;">V <sup>pyramid</sup></span> &#148;</div>
                                    <br />
                                    <div onclick="toggle_prompt('multi_characters_objects_scenes_2', ['multi_characters_objects_scenes_1'], 'multi-char-obj-scene-condition', 'multi-char-obj-scene-result')" class="caption" id="multi_characters_objects_scenes_2">
                                        &#147; [<span style="color:orange;">V <sup>potter</sup></span>, <span style="color:orange;">V <sup>hermione</sup></span>, holding hands], <span style="color:blue;">V <sup>dogA</sup></span>, <span style="color:blue;">V <sup>cat</sup></span>, near <span style="color:purple;">V <sup>rock</sup></span>.&#148;</div>
                                </div>
                            </div>


                        </div>
                        <a class="carousel-control-prev" href="#imageCarousel" role="button" data-slide="prev">
                            <div class="slider-navigation-previous">
                                <svg viewBox="0 0 50 80" xml:space="preserve">
                                    <polyline fill="white" stroke-width=".5em" stroke-linecap="round"
                                        stroke-linejoin="round" points="45.63,75.8 0.375,38.087 45.63,0.375 ">
                                    </polyline>
                                </svg>
                            </div>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#imageCarousel" role="button" data-slide="next">
                            <div class="slider-navigation-next">
                                <svg viewBox="0 0 50 80" xml:space="preserve">
                                    <polyline fill="white" stroke-width=".5em" stroke-linecap="round"
                                        stroke-linejoin="round" points="0.375,0.375 45.63,38.087 0.375,75.8 ">
                                    </polyline>
                                </svg>
                            </div>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </tr>
                <tr> <br /> </tr>
                <tr align="center"></tr>
            </tbody>
        </table>
        &nbsp;
        <p class="section">&nbsp;</p>

        <p style="text-align: center;"><span class="section"><b>Abstract</b></span></p>
        <p style="text-align: justify; display: flex; justify-content: center; max-width: 800px; margin:auto"> 
            Public large-scale text-to-image diffusion models, such as Stable Diffusion, have
            gained significant attention from the community. These models can be easily
            customized for new concepts using low-rank adaptations (LoRAs). However,
            the utilization of multiple concept LoRAs to jointly support multiple customized
            concepts presents a challenge. We refer to this scenario as decentralized multi-
            concept customization, which involves single-client concept tuning and center-node
            concept fusion. In this paper, we propose a new framework called Mix-of-Show that
            addresses the challenges of decentralized multi-concept customization, including
            concept conflicts resulting from existing single-client LoRA tuning and identity loss
            during model fusion. Mix-of-Show adopts an embedding-decomposed LoRA (ED-LoRA)
            for single-client tuning and gradient fusion for the center node to preserve
            the in-domain essence of single concepts and support theoretically limitless concept
            fusion. Additionally, we introduce regionally controllable sampling, which extends
            spatially controllable sampling (e.g., ControlNet and T2I-Adaptor) to address
            attribute binding and missing object problems in multi-concept sampling. Extensive
            experiments demonstrate that Mix-of-Show is capable of composing multiple
            customized concepts with high fidelity, including characters, objects, and scenes.
        <p class="section">&nbsp;</p>

        <p style="text-align: center;"><span class="section"><b>Main Observation</b></span></p>
        <br/>
        <div style="text-align: center">
            <video width="100%" muted="" loop="" autoplay=""><source src="./assets/Observation_screen.mp4" type="video/mp4">
                Your browser does not support the video tag.</video>
            <br/>
        </div>
        <br/><br/>

        <p style="text-align: center;"><span class="section"><b>Method Overview - (tune&fuse)</b></span></p>
        <div style="text-align: center">
            <img src="./assets/method_overview.png" alt="" width="1080px" style="max-width: 100%; height: auto;" />
        </div>
        <p style="text-align: justify">
            In single-client concept tuning, Mix-of-Show (ED-LoRA) extends the embedding expressiveness, and tackle the embedding-LoRA
            co-adaptation issue. ED-LoRA preserves more in-domain essence of given concept in embedding and reduce <font color="red"><strong>concept conflict</strong></font>.
            <br/>
            In center-node concept fusion, Mix-of-Show (gradient fusion) can fuse multiple concept ED-LoRAs and align its single-concept inference
            behavior, without accessing to the training data.
            Gradient fusion tackles the <font color="red"><strong>identity loss</strong></font> of weight fusion in previous LoRA merge.
        </p>
        <br/>
        <p style="text-align: center;"><span class="section"><b>Method Overview - (sample)</b></span></p>
        <div style="text-align: center">
            <img src="./assets/region_overview.png" alt="" width="1080px" style="max-width: 100%; height: auto;" />
        </div>
        <p style="text-align: justify">
            For complex compositions, stable diffusion models often encounter challenges such as missing object and attribute binding. To address this, we introduce regionally controllable sampling,
            which builds upon spatial controllable sampling (e.g., ControlNet and T2i-Adaptor).
            This approach allows us to <font color="red"><strong>assign region prompts and attributes</strong></font> by rewriting features in the cross-attention mechanism.
            By leveraging regionally controllable sampling in conjunction with our Mix-of-Show framework,
            we can achieve complex compositions using multiple customized concepts.
        </p>

        <p class="section">&nbsp;</p>

        <p style="text-align: center;"><span class="section"><b>Result Summarization</b></span></p>
        <!-- <div style="text-align: center">
            <img src="./sm/assets/results.jpg" alt="" width="850" style="margin: auto" />
        </div> -->
        <br/>

        <div class="container" style="min-height: 224px">
            <p style="text-align: center; font-size: 150%">Single-Concept Sampling from (single-concept tuned model/multi-concept fused model)</p>
            <div id="resultCarousel1" class="carousel slide" data-ride="carousel" data-interval="5000">
                <div class="carousel-inner">

                    <div class="carousel-item active">
                        <table width="1080px" align="center">
                            <tbody>
                                <tr>
                                    <th><img width="70%" src="./assets/results/prompt_type/Recontextualization.png" /></th>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="carousel-item">
                        <table width="1080px" align="center">
                            <tbody>
                                <tr>
                                    <th><img width="70%" src="./assets/results/prompt_type/Restylization.png" /></th>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="carousel-item">
                        <table width="1080px" align="center">
                            <tbody>
                                <tr>
                                    <th><img width="70%" src="./assets/results/prompt_type/Interaction.png" /></th>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="carousel-item">
                        <table width="1080px" align="center">
                            <tbody>
                                <tr>
                                    <th><img width="70%" src="./assets/results/prompt_type/PropertyChange.png" /></th>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <a class="carousel-control-prev" href="#resultCarousel1" role="button" data-slide="prev">
                    <div class="slider-navigation-previous" style="top: 40%">
                        <svg viewBox="0 0 50 80" xml:space="preserve">
                            <polyline fill="white" stroke-width=".5em" stroke-linecap="round"
                                stroke-linejoin="round" points="45.63,75.8 0.375,38.087 45.63,0.375 ">
                            </polyline>
                        </svg>
                    </div>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#resultCarousel1" role="button" data-slide="next">
                    <div class="slider-navigation-next" style="top: 40%">
                        <svg viewBox="0 0 50 80" xml:space="preserve">
                            <polyline fill="white" stroke-width=".5em" stroke-linecap="round"
                                stroke-linejoin="round" points="0.375,0.375 45.63,38.087 0.375,75.8 ">
                            </polyline>
                        </svg>
                    </div>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
        </br>
        <div style="text-align: center">
            <p style="text-align: center; font-size: 150%">Multi-Concept Sampling (semantically-distinct subjects, without spatial condition)</p>
            <img src="./assets/results/Sample_wo_spatialcond.png" alt="" width="70%" style="max-width: 100%; height: auto;" />
        </div>
        </br>
        <div style="text-align: center">
            <p style="text-align: center; font-size: 150%">Multi-Concept Sampling (complex composition, with spatial condition)</p>
            <img src="./assets/results/Sample_w_spatialcond.png" alt="" width="70%" style="max-width: 100%; height: auto;" />
        </div>

        <br/><br/><br/>

        <p class="section" id="bibtex"><b>Bibtex</b></p>
        <table border="0">
            <tbody>
                <pre style=" display: block;
                    background: #eee;
                    white-space: pre;
                    -webkit-overflow-scrolling: touch;
                    max-width: 100%;
                    min-width: 100px;
                    border-radius: 20px;
                    ">

    @article{gu2023mixofshow,
        title={Mix-of-Show: Decentralized Low-Rank Adaptation for Multi-Concept Customization of Diffusion Models},
        journal={arXiv preprint arXiv},
        year={2023}
    }
			    </pre>
            </tbody>
        </table>
        
    </div>

    <footer class="footer">
        <p style="text-align: center;">
            This page was adapted from <a href="https://github.com/pnp-diffusion/pnp-diffusion.github.io">this</a> source code.
        </p>
    </footer>


</body>

<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-WLX2Z5QLG8');
 </script>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
 <script type="text/javascript">
    $(document).ready(function () {

        if (localStorage.getItem("my_app_name_here-quote-scroll") != null) {
            $(window).scrollTop(localStorage.getItem("my_app_name_here-quote-scroll"));
        }

        $(window).on("scroll", function() {
            localStorage.setItem("my_app_name_here-quote-scroll", $(window).scrollTop());
        });

      });
 </script>

 <script>
    function prompt_on(prompt_element) {
        prompt_element.classList.add("caption-active");
    }

    function prompt_off(prompt_element) {
        prompt_element.classList.remove("caption-active");
    }

    function toggle_prompt(active_prompt_id, inactive_prompt_ids, condition_id, result_id) {
        let active_prompt = document.getElementById(active_prompt_id);
        prompt_on(active_prompt);
        for (let i = 0; i < inactive_prompt_ids.length; i++) {
            let inactive_prompt = document.getElementById(inactive_prompt_ids[i]);
            prompt_off(inactive_prompt);
        }

        let condition = document.getElementById(condition_id);
        condition.src = file_paths[active_prompt_id][0];

        let result = document.getElementById(result_id);
        result.src = file_paths[active_prompt_id][1];
    }
 </script>

 <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
 <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</html>
